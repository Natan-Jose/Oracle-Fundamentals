|-------------------------------------------------------------------------------|
| Aula      : Problemas comuns de performance no banco							|
| MÃ³dulo    : IntroducÌ§aÌƒo a performance e tuning                                 |
| Curso     : Oracle Fundamentals                                               |
| Instrutor : Marcio Mandarino                                                  |
| URL       : mrdba.com.br/oracle_fundamentals                                  |
|-------------------------------------------------------------------------------|
| ReferÃªncia: https://docs.oracle.com/en/database/oracle/oracle-database/19/tdppt/oracle-database-performance-method.html#GUID-D5B54332-FE40-4537-B1C9-0704343CEF54
|-------------------------------------------------------------------------------|


=================================================================
== ğŸ¯ Objetivos da Aula:
=================================================================
ğŸ’¡ Saber os problemas mais comuns de performance de um servidor Oracle

=================================================================
== ğŸ¯ Resumo
=================================================================
ğŸ“ Conceito geral
ğŸ“ Alto consumo de CPU
ğŸ“ Tamanho inadequado da Ã¡rea de memÃ³ria
ğŸ“ Alto volume de I/O
ğŸ“ Uso inadequado dos recursos do Oracle
ğŸ“ ConcorrÃªncia
ğŸ“ ConfiguraÃ§Ãµes do banco de dados
ğŸ“ Problemas pontuais
ğŸ“ DegradaÃ§Ã£o do banco de dados com o passar do tempo
ğŸ“ SQLs de alto consumo
ğŸ“ ContenÃ§Ã£o em objetos 
ğŸ“ RegressÃ£o da performance apÃ³s tentar melhorar um SQL
ğŸ“ ConclusÃ£o

=================================================================
== ğŸ¯ Conceito geral
=================================================================
â–¶ï¸ Entender os principais problemas de performance que podem ocorrer no Oracle


=================================================================
== ğŸ¯ Alto consumo de CPU
=================================================================
â–¶ï¸ Muitas vezes o banco de dados fica lento devido ao esgotamento do CPU
â–¶ï¸ O alto consumo de CPU Ã© uma consequÃªncia e nÃ£o a causa, Ã© necessÃ¡rio investigar o problema raiz.
â–¶ï¸ O comando top (load) do Linux pode identificar de forma eficaz se o servidor estÃ¡ sobrecarregado 


=================================================================
== ğŸ¯ Tamanho inadequado da Ã¡rea de memÃ³ria
=================================================================
â–¶ï¸ Ã‰ preciso saber diferenciar o uso de memÃ³ria RAM do SO para o uso de memÃ³ria no Oracle
â–¶ï¸ VocÃª pode ter um esgotamento de memÃ³ria na sua instÃ¢ncia e o SO estÃ¡ com baixa utilizaÃ§Ã£o de memÃ³ria
	â–«ï¸ Exemplo: Um servidor com 128 GB de RAM e uma SGA de 4GB
â–¶ï¸ Mas vocÃª pode ter um esgotamento de memÃ³ria do servidor sem que sua instÃ¢ncia esteja sobrecarregada
	â–«ï¸ Exemplo: Um servidor com outros processos rodando nele
â–¶ï¸ Quanto mais memÃ³ria vocÃª dÃ¡ para o Oracle, mais ele quer
âš ï¸ Quanto mais memÃ³ria vocÃª dÃ¡ para o Oracle, "mais rÃ¡pido" ele fica? 
	â–«ï¸ Em geral, o banco de dados Ã© beneficiado por mais memÃ³ria
	â–«ï¸ Nem sempre o problema Ã© resolvido como mais memÃ³ria
	â–«ï¸ Normalmente, resolver o problema de uma query problemÃ¡tica Ã© mais eficaz do que aumentar memÃ³ria





=================================================================
== ğŸ¯ Alto volume de I/O
=================================================================
â–¶ï¸ Sobrecarga no I/O do servidor pode ser causado por diversos motivos:
	â–«ï¸ Queries pesadas
	â–«ï¸ Alto volume de processos em paralelo
	â–«ï¸ Queries ineficientes
	â–«ï¸ Processos rodando fora do horÃ¡rio programado (backup, manutenÃ§Ã£o, etc)

=================================================================
== ğŸ¯ Uso inadequado dos recursos do Oracle
=================================================================
â–¶ï¸ AplicaÃ§Ãµes escritas de forma ineficiente sÃ£o uma causa bem comum para essa situaÃ§Ã£o
	â–«ï¸ Alto volume de logons, logoff
	â–«ï¸ Queries escritas de forma ineficiente


=================================================================
== ğŸ¯ ConcorrÃªncia
=================================================================
â–¶ï¸ Bloqueios gerados por processos concorrentes
â–¶ï¸ Acessos simultÃ¢neos na mesma informaÃ§Ã£o
â–¶ï¸ Processos longos concorrendo com processos pequenos
âš ï¸ Isso Ã© um problema muito comum em ambientes produtivos de alta demanda


=================================================================
== ğŸ¯ ConfiguraÃ§Ãµes do banco de dados
=================================================================
â–¶ï¸ Dimensionamento incorreto da SGA, PGA, etc
â–¶ï¸ Dimensionamento de Ã¡rea de undo, log files, organizaÃ§Ã£o de arquivos do banco, etc
â–¶ï¸ ParÃ¢metros de inicializaÃ§Ã£o definidos sem estar de acordo com a necessidade do ambiente

/u02 (tablespace X tabela compras)
/u03 (tablespace Y tabela de vendas)


=================================================================
== ğŸ¯ Problemas pontuais
=================================================================
â–¶ï¸ Procesos pesados sendo executdos ponutalmente
â–¶ï¸ Alguma carga
â–¶ï¸ Algum desenvolvedor executado alguma query maligna


=================================================================
== ğŸ¯ DegradaÃ§Ã£o do banco de dados com o passar do tempo
=================================================================
â–¶ï¸ Crescimento vegetativo do banco
â–¶ï¸ Poucas aÃ§Ãµes de melhorias



=================================================================
== ğŸ¯ SQLs de alto consumo
=================================================================
â–¶ï¸ Queries muito pesadas sendo executadas


=================================================================
== ğŸ¯ ContenÃ§Ã£o em objetos 
=================================================================
â–¶ï¸ Sobrecarga de objetos (muitos acessos simultÃ¢neos)


=================================================================
== ğŸ¯ RegressÃ£o da performance apÃ³s tentar melhorar um SQL
=================================================================
â–¶ï¸ As vezes, alguÃ©m tenta melhorar, mas piora...



=================================================================
== ğŸ¯ ConclusÃ£o
=================================================================
ğŸ’¡ Ã‰ preciso ir ganhando maturidade com o passar do tempo, de como lidar com esses tipos de problema
ğŸ’¡ Ã‰ comum que ocorram problemas simultÃ¢neos
ğŸ’¡ Tente compreender quando a questÃ£o Ã© um sintoma ou a causa
 