|--------------------------------------------------------------------------------|
| Aula      : OperacÌ§oÌƒes baÌsicas com o RMAN										 |
| MÃ³dulo    : Basic Backup and Recovery                                          |
| Curso     : Oracle Fundamentals                                                |
| Instrutor : Marcio Mandarino                                                   |
| URL       : mrdba.com.br/oracle_fundamentals                                   |
|--------------------------------------------------------------------------------|
| ReferÃªncia: https://docs.oracle.com/en/database/oracle/oracle-database/19/bradv/starting-interacting-with-rman-client.html#GUID-92CF0473-8B35-48A8-BA49-4DC52A7ECBC0
|--------------------------------------------------------------------------------|


=================================================================
== ğŸ¯ Objetivos da Aula:
=================================================================
ğŸ’¡ Aprender a utilizar alguns comandos bÃ¡sicos do RMAN
ğŸ’¡ Aprender a alterar as configuraÃ§Ãµes do RMAN

=================================================================
== ğŸ¯ Resumo
=================================================================
ğŸ“ Conceito geral
ğŸ“ Listando os backups
ğŸ“ Report backup
ğŸ“ Vendo as configuraÃ§Ãµes do RMAN 
ğŸ“ Gerando um arquivo de log 
ğŸ“ ConclusÃ£o

=================================================================
== ğŸ¯ Conceito geral
=================================================================
â–¶ï¸ Existem vÃ¡rios comandos que podem ser executados no RMAN
â–¶ï¸ Veremos alguns dos comandos mais bÃ¡sicos e mais utilizados no dia a dia


=================================================================
== ğŸ¯ Listando os backups
=================================================================
â–¶ï¸ Lista os backups do banco

RMAN> list backup summary;
RMAN> list backup of datafile 1;
RMAN> list backup of archivelog all;
RMAN> list backup of database;


=================================================================
== ğŸ¯ Report backup 
=================================================================
â–¶ï¸ Faz uma anÃ¡lise dos backups de acordo com a polÃ­tica de backup definida

-- Lista os arquivos que precisam de backup, conforme a definiÃ§Ã£o da polÃ­tica de retenÃ§Ã£o
RMAN> report need backup database;


=================================================================
== ğŸ¯ Vendo as configuraÃ§Ãµes do RMAN 
=================================================================
RMAN> show all;
RMAN> show retention policy;
RMAN> configure retention policy to recovery window of 5 days; 
RMAN> show retention policy;
RMAN> configure retention policy clear; 
RMAN> show retention policy;


RMAN> configure retention policy to recovery window of 5 days; 
RMAN> configure backup optimization on;
RMAN> configure archivelog deletion policy to backed up 1 times to device type disk;
RMAN> configure controlfile autobackup on;
RMAN> configure device type disk backup type to compressed backupset;
RMAN> configure compression algorithm 'BASIC';
RMAN> configure device type disk parallelism 8;

==================================================================
== Exemplo para comparar cada parÃ¢metro de compressÃ£o
==================================================================

COMPRESSÃƒO         TEMPO      TAMANHO		PERCENTUAL GANHO ()
SEM COMPRESSÃƒO     4 MIN      100GB
LOW			       5 MIN      20GB
BASIC    	       6 MIN      18GB
MEDIUM 		       12 MIN     17GB
HIGH   		       19 MIN 	  16,5GB

=================================================================
== ğŸ¯ Gerando um arquivo de log 
=================================================================

RMAN> spool log to /tmp/conf.log
RMAN> show all;
RMAN> spool log off
RMAN> exit
$ cat /tmp/conf.log


=================================================================
== ğŸ¯ ConclusÃ£o
=================================================================
ğŸ’¡ Pratique a execuÃ§Ã£o dos comandos desta aula
ğŸ’¡ Tente escrever os comandos para fixar, nÃ£o copie e cole

 