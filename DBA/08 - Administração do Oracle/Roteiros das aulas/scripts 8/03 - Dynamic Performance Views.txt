|-------------------------------------------------------------------------------|
| Aula		: Dynamic Performance Views											|
| MÃ³dulo	: Managing Oracle Database											|
| Curso		: Oracle Fundamentals												|
| Instrutor	: Marcio Mandarino													|
| URL		: mrdba.com.br/oracle_fundamentals									|
|-------------------------------------------------------------------------------|
| ReferÃªncia: https://docs.oracle.com/en/database/oracle/oracle-database/23/refrn/about-dynamic-performance-views.html
|-------------------------------------------------------------------------------|


=================================================================
== ðŸŽ¯ Objetivos da Aula
=================================================================
ðŸ’¡ Entender o que sÃ£o as Dynamic Performance Views (V$) no Oracle.
ðŸ’¡ Aprender a consultar as V$ para obter informaÃ§Ãµes sobre o desempenho e operaÃ§Ã£o do banco de dados.
ðŸ’¡ Entender a diferenÃ§a entre V$ e GV$ views
ðŸ’¡ Conhecer algumas das V$ mais comuns e suas utilizaÃ§Ãµes.


=================================================================
== ðŸŽ¯ Resumo
=================================================================
ðŸ“ Conceito geral
ðŸ“ Sobre Dynamic Performance Views
ðŸ“ V$ views
ðŸ“ GV$ views
ðŸ“ V$ comuns
ðŸ“ Exemplos prÃ¡ticos
ðŸ“ A view dict
ðŸ“ ConclusÃ£o

=================================================================
== ðŸŽ¯ Conceito geral
=================================================================
â–¶ï¸ As Dynamic Performance Views (V$) sÃ£o uma coleÃ§Ã£o de views no Oracle Database que fornecem informaÃ§Ãµes sobre o desempenho, operaÃ§Ã£o e configuraÃ§Ã£o do banco de dados.
â–¶ï¸ SÃ£o chamadas de "dinÃ¢micas" porque as informaÃ§Ãµes que elas contÃªm sÃ£o atualizadas constantemente enquanto um banco de dados estÃ¡ em operaÃ§Ã£o.
â–¶ï¸ Um bom DBA deve conhecer bem as Views do Oracle


=================================================================
== ðŸŽ¯ Sobre Dynamic Performance Views
=================================================================
â–¶ï¸ Oracle contÃ©m um conjunto de views que sÃ£o mantidas pelo servidor de banco de dados e acessÃ­veis aos usuÃ¡rios com devidas permissÃµes.
â–¶ï¸ Essas views sÃ£o atualizadas continuamente enquanto um banco de dados estÃ¡ aberto e em uso.
â–¶ï¸ Embora pareÃ§am tabelas regulares do banco de dados, elas nÃ£o sÃ£o. Elas fornecem dados sobre estruturas internas de disco e memÃ³ria.

=================================================================
== ðŸŽ¯ V$ views
=================================================================
â–¶ï¸ As verdadeiras DPVs sÃ£o identificadas pelo prefixo V_$.
â–¶ï¸ SinÃ´nimos pÃºblicos para essas views tÃªm o prefixo V$.
â–¶ï¸ Administradores de banco de dados e outros usuÃ¡rios devem acessar apenas os objetos V$, nÃ£o os objetos V_$.
â–¶ï¸ Depois que uma instÃ¢ncia Ã© iniciada, as views V$ que leem da memÃ³ria sÃ£o acessÃ­veis. 
â–¶ï¸ Views que leem dados do disco requerem que o banco de dados seja montado e alguns requerem que o banco de dados esteja aberto.


=================================================================
== ðŸ“ GV$ views
=================================================================
â–¶ï¸ Para quase todas as views V$ descritas, o Oracle possui uma view GV$ correspondente.
â–¶ï¸ No Oracle RAC, consultar uma view GV$ recupera as informaÃ§Ãµes da view V$ de todas as instÃ¢ncias qualificadas.
â–¶ï¸ Cada view GV$ contÃ©m uma coluna extra chamada INST_ID de tipo de dados NUMBER. 
	â–«ï¸ Esta coluna exibe o nÃºmero da instÃ¢ncia de onde as informaÃ§Ãµes da view V$ foram obtidas.

=================================================================
== ðŸŽ¯ V$ comuns
=================================================================
â–¶ï¸ v$database		: InformaÃ§Ãµes gerais sobre o banco de dados.
â–¶ï¸ v$instance		: Detalhes da instÃ¢ncia do Oracle Database em execuÃ§Ã£o.
â–¶ï¸ v$parameter		: ParÃ¢metros de inicializaÃ§Ã£o do banco de dados.
â–¶ï¸ v$version			: InformaÃ§Ãµes de versÃ£o dos componentes do Oracle Database.
â–¶ï¸ v$tablespace		: VisÃ£o geral dos tablespaces no banco de dados.
â–¶ï¸ v$datafile		: InformaÃ§Ãµes sobre os arquivos de dados.
â–¶ï¸ v$log				: Detalhes dos grupos de redo log online.
â–¶ï¸ v$logfile			: InformaÃ§Ãµes sobre os arquivos de redo log.
â–¶ï¸ v$archived_log	: InformaÃ§Ãµes sobre os redo logs que foram arquivados.
â–¶ï¸ v$lock			: InformaÃ§Ãµes sobre bloqueios no banco de dados.
â–¶ï¸ v$session			: Detalhes das sessÃµes ativas no banco de dados.
â–¶ï¸ v$process			: InformaÃ§Ãµes sobre os processos associados Ã  instÃ¢ncia do Oracle.
â–¶ï¸ v$sql				: Detalhes sobre as instruÃ§Ãµes SQL que estÃ£o sendo executadas ou foram recentemente executadas BD.

ðŸ’¡ Se vocÃª colocar no Google o nome da view mais a versÃ£o do Oracle, vocÃª vai acessar a documentaÃ§Ã£o Database Reference

=================================================================
== ðŸŽ¯ Exemplos prÃ¡ticos
=================================================================

set lines 800
col instance_name form a20
col host_name form a20
col username form a20
col program form a30
col machine form a20
col status form a20


SQL> select name, open_Mode from v$database;

SQL> select instance_name, host_name, status from v$instance;
SQL> select inst_id,instance_name, host_name, status from gv$instance;

SQL> select sid, serial#, username, program, machine, status from v$session;
SQL> select inst_id,sid, serial#, username, program, machine, status from gv$session;


=================================================================
== ðŸŽ¯ A view dict
=================================================================
ðŸ’¡ Esta view ajuda a encontrar as views do dicionÃ¡rio de dados

SQL> desc dict
Name                            Null?    Type
------------------------------- -------- ----------------------------
TABLE_NAME                               VARCHAR2(128)
COMMENTS                                 VARCHAR2(4000)

@dict


=================================================================
== ðŸŽ¯ ConclusÃ£o
=================================================================
ðŸ’¡ Conhecer as Views dinÃ¢micas do Oracle Ã© estratÃ©gico para o DBA
ðŸ’¡ Sua pasta de scripts deve possuir scripts para consultar essas views de forma rÃ¡pida

