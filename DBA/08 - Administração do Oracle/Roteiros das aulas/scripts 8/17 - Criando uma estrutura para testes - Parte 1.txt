|-------------------------------------------------------------------------------|
| Aula      : Criando uma estrutura para testes									|
| MÃ³dulo    : Managing Oracle Database                                          |
| Curso     : Oracle Fundamentals                                               |
| Instrutor : Marcio Mandarino                                                  |
| URL       : mrdba.com.br/oracle_fundamentals                                  |
|-------------------------------------------------------------------------------|
| ReferÃªncia: https://github.com/oracle-samples/db-sample-schemas 
|-------------------------------------------------------------------------------|


===========================================================k======
== ðŸŽ¯ Objetivos da Aula:
=================================================================
ðŸ’¡ Aprender como criar uma estrutura para ser usada como ambiente de testes


=================================================================
== ðŸŽ¯ Resumo
=================================================================
ðŸ“ Conceito geral
ðŸ“ Fazendo download dos schemas de exemplo
ðŸ“ Criando os PDBS
ðŸ“ Criando a estrutura para o sales_history
ðŸ“ Criando a estrutura para o human_resources
ðŸ“ Criando a estrutura para o customer_orders
ðŸ“ Verificando os bancos criados
ðŸ“ Incluir os PDBs criados no
ðŸ“ tnsnames
ðŸ“ Incluir os PDBs criados no Sql Developer
ðŸ“ Ajustar o menu de conexÃµes
ðŸ“ ConclusÃ£o


=================================================================
== ðŸŽ¯ Conceito geral
=================================================================
â–¶ï¸ Ã‰ importante termos uma estrutura para testes
â–¶ï¸ Ã‰ uma prÃ¡tica de como criar uma estrutura para uma aplicaÃ§Ã£o


=================================================================
== ðŸŽ¯ Fazendo download dos schemas de exemplo
=================================================================
$ mkdir /tmp/sample_schemas
$ curl -L -o /tmp/sample_schemas/v23.3.zip https://github.com/oracle-samples/db-sample-schemas/archive/refs/tags/v23.3.zip
$ unzip -q /tmp/sample_schemas/v23.3.zip -d /tmp/sample_schemas/
$ ls -lhtr  /tmp/sample_schemas/db-sample-schemas-23.3


=================================================================
== ðŸŽ¯ Criando os PDBS
=================================================================
$ . oraenv
$ sqlplus / as sysdba

SQ> create pluggable database sales_history 	admin user pdb_admin identified by "Wellcome1";
SQ> create pluggable database human_resources 	admin user pdb_admin identified by "Wellcome1";
SQ> create pluggable database customer_orders 	admin user pdb_admin identified by "Wellcome1";

SQL> alter pluggable database all open;
SQL> alter pluggable database all save state;


=================================================================
== ðŸŽ¯ Criando a estrutura para o sales_history
=================================================================
SQL> alter session set container = sales_history;
SQL> create bigfile tablespace ts_sales_history datafile size 50m autoextend on next 50m maxsize 2g;
SQL> @/tmp/sample_schemas/db-sample-schemas-23.3/sales_history/sh_install.sql


=================================================================
== ðŸŽ¯ Criando a estrutura para o human_resources
=================================================================
$ export ORACLE_PDB_SID=human_resources
$ sqlplus / as sysdba
SQL> create bigfile tablespace ts_human_resources datafile size 50m autoextend on next 50m maxsize 2g;
SQL> @/tmp/sample_schemas/db-sample-schemas-23.3/human_resources/hr_install.sql


=================================================================
== ðŸŽ¯ Criando a estrutura para o customer_orders
=================================================================
$ vi /tmp/sample_schemas/db-sample-schemas-23.3/customer_orders/co_create.sql
-- remover a constraint products_json_c

$ export ORACLE_PDB_SID=customer_orders
$ sqlplus / as sysdba
SQL> create bigfile tablespace ts_customer_orders datafile size 50m autoextend on next 50m maxsize 2g;
SQL> @/tmp/sample_schemas/db-sample-schemas-23.3/customer_orders/co_install.sql

=================================================================
== ðŸŽ¯ Verificando os bancos criados
=================================================================
$ unset ORACLE_PDB_SID
$ sqlplus / as sysdba

SQL> show pdbs;


=================================================================
== ðŸŽ¯ Incluir os PDBs criados no tnsnames
=================================================================

=================================================================
== ðŸŽ¯ Incluir os PDBs criados no Sql Developer
=================================================================

=================================================================
== ðŸŽ¯ Ajustar o menu de conexÃµes
=================================================================


=================================================================
== ðŸŽ¯ ConclusÃ£o
=================================================================
ðŸ’¡ Essa Ã© uma boa simulaÃ§Ã£o de como criar um ambiente para uma aplicaÃ§Ã£o
 